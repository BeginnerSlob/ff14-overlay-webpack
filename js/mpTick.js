!function(){var e={571:function(){function e(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;s=!1}else for(;!(s=(r=i.call(t)).done)&&(c.push(r.value),c.length!==n);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,n)||t(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,n){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=t(e))||n&&e&&"number"==typeof e.length){r&&(e=r);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return c=e.done,e},e:function(e){s=!0,a=e},f:function(){try{c||null==r.return||r.return()}finally{if(s)throw a}}}}function t(e,n){if(e){if("string"==typeof e)return r(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?r(e,n):void 0}}function r(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}window.addOverlayListener||(console.log("common.min.js镜像文件访问失败，加载本地版本。"),function(){var t=/[\?&]OVERLAY_WS=([^&]+)/.exec(location.href),r=null,o=[],i=0,a={},c={},s=null,l=!1;function u(e){if(c[e.type]){var t,r=n(c[e.type]);try{for(r.s();!(t=r.n()).done;)(0,t.value)(e)}catch(e){r.e(e)}finally{r.f()}}}t?(s=function(e){o?o.push(e):r.send(JSON.stringify(e))},function e(){(r=new WebSocket(t[1])).addEventListener("error",(function(e){console.error(e)})),r.addEventListener("open",(function(){console.log("Connected!");var e=o;o=null;var t,r=n(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;s(i)}}catch(e){r.e(e)}finally{r.f()}})),r.addEventListener("message",(function(e){try{e=JSON.parse(e.data)}catch(n){return void console.error("Invalid message received: ",e)}void 0!==e.rseq&&a[e.rseq]?(a[e.rseq](e),delete a[e.rseq]):u(e)})),r.addEventListener("close",(function(){o=[],console.log("Trying to reconnect..."),setTimeout((function(){e()}),300)}))}()):(s=function(e,n){o?o.push([e,n]):OverlayPluginApi.callHandler(JSON.stringify(e),n)},function t(){if(window.OverlayPluginApi&&window.OverlayPluginApi.ready){var r=o;o=null,window.__OverlayCallback=u;var i,a=n(r);try{for(a.s();!(i=a.n()).done;){var c=e(i.value,2),l=c[0],d=c[1];s(l,d)}}catch(e){a.e(e)}finally{a.f()}}else setTimeout(t,300)}()),window.dispatchOverlayEvent=u,window.addOverlayListener=function(e,n){l&&c[e]&&console.warn("A new listener for ".concat(e," has been registered after event transmission has already begun.\nSome events might have been missed and no cached values will be transmitted.\nPlease register your listeners before calling startOverlayEvents().")),c[e]||(c[e]=[]),c[e].push(n)},window.removeOverlayListener=function(e,n){if(c[e]){var t=c[e],r=t.indexOf(n);r>-1&&t.splice(r,1)}},window.callOverlayHandler=function(e){var n;return r?(e.rseq=i++,n=new Promise((function(n){a[e.rseq]=n})),s(e)):n=new Promise((function(n){s(e,(function(e){n(null==e?null:JSON.parse(e))}))})),n},window.startOverlayEvents=function(){l=!1,s({call:"subscribe",events:Object.keys(c)})}}())},840:function(e,n,t){"use strict";var r=t(965),o=t.n(r),i=t(499),a=t.n(i)()(o());a.push([e.id,"*{padding:0;margin:0;box-sizing:border-box}.anime{background-color:#1172e2;-webkit-animation:mp 3s infinite linear;animation:mp 3s infinite linear}html{border-right:3px solid #fff}body{overflow:hidden;-webkit-user-select:none;user-select:none;background-color:#000}body main{height:100vh}@-webkit-keyframes mp{0%{width:0%}100%{width:100%}}@keyframes mp{0%{width:0%}100%{width:100%}}","",{version:3,sources:["webpack://./src/mpTick/index.scss"],names:[],mappings:"AAAA,EACE,SAAA,CACA,QAAA,CACA,qBAAA,CAEF,OACE,wBAAA,CACA,uCAAA,CAAA,+BAAA,CAEF,KACE,2BAAA,CAEF,KACE,eAAA,CACA,wBAAA,CAAA,gBAAA,CACA,qBAAA,CACA,UACE,YAAA,CAGJ,sBACE,GACE,QAAA,CAEF,KACE,UAAA,CAAA,CALJ,cACE,GACE,QAAA,CAEF,KACE,UAAA,CAAA",sourcesContent:["* {\n  padding: 0;\n  margin: 0;\n  box-sizing: border-box;\n}\n.anime {\n  background-color: rgb(17, 114, 226);\n  animation: mp 3s infinite linear;\n}\nhtml {\n  border-right: 3px solid #fff;\n}\nbody {\n  overflow: hidden;\n  user-select: none;\n  background-color: black;\n  main {\n    height: 100vh;\n  }\n}\n@keyframes mp {\n  0% {\n    width: 0%;\n  }\n  100% {\n    width: 100%;\n  }\n}\n"],sourceRoot:""}]),n.Z=a},499:function(e){"use strict";e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t="",r=void 0!==n[5];return n[4]&&(t+="@supports (".concat(n[4],") {")),n[2]&&(t+="@media ".concat(n[2]," {")),r&&(t+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),t+=e(n),r&&(t+="}"),n[2]&&(t+="}"),n[4]&&(t+="}"),t})).join("")},n.i=function(e,t,r,o,i){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var c=0;c<this.length;c++){var s=this[c][0];null!=s&&(a[s]=!0)}for(var l=0;l<e.length;l++){var u=[].concat(e[l]);r&&a[u[0]]||(void 0!==i&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=i),t&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=t):u[2]=t),o&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=o):u[4]="".concat(o)),n.push(u))}},n}},965:function(e){"use strict";e.exports=function(e){var n=e[1],t=e[3];if(!t)return n;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),i="/*# ".concat(o," */");return[n].concat([i]).join("\n")}return[n].join("\n")}},856:function(e){"use strict";var n=[];function t(e){for(var t=-1,r=0;r<n.length;r++)if(n[r].identifier===e){t=r;break}return t}function r(e,r){for(var i={},a=[],c=0;c<e.length;c++){var s=e[c],l=r.base?s[0]+r.base:s[0],u=i[l]||0,d="".concat(l," ").concat(u);i[l]=u+1;var f=t(d),p={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==f)n[f].references++,n[f].updater(p);else{var v=o(p,r);r.byIndex=c,n.splice(c,0,{identifier:d,updater:v,references:1})}a.push(d)}return a}function o(e,n){var t=n.domAPI(n);return t.update(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap&&n.supports===e.supports&&n.layer===e.layer)return;t.update(e=n)}else t.remove()}}e.exports=function(e,o){var i=r(e=e||[],o=o||{});return function(e){e=e||[];for(var a=0;a<i.length;a++){var c=t(i[a]);n[c].references--}for(var s=r(e,o),l=0;l<i.length;l++){var u=t(i[l]);0===n[u].references&&(n[u].updater(),n.splice(u,1))}i=s}}},370:function(e){"use strict";var n={};e.exports=function(e,t){var r=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}},278:function(e){"use strict";e.exports=function(e){var n=document.createElement("style");return e.setAttributes(n,e.attributes),e.insert(n,e.options),n}},458:function(e,n,t){"use strict";e.exports=function(e){var n=t.nc;n&&e.setAttribute("nonce",n)}},470:function(e){"use strict";e.exports=function(e){var n=e.insertStyleElement(e);return{update:function(t){!function(e,n,t){var r="";t.supports&&(r+="@supports (".concat(t.supports,") {")),t.media&&(r+="@media ".concat(t.media," {"));var o=void 0!==t.layer;o&&(r+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),r+=t.css,o&&(r+="}"),t.media&&(r+="}"),t.supports&&(r+="}");var i=t.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),n.styleTagTransform(r,e,n.options)}(n,e,t)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)}}}},488:function(e){"use strict";e.exports=function(e,n){if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}}},n={};function t(r){var o=n[r];if(void 0!==o)return o.exports;var i=n[r]={id:r,exports:{}};return e[r](i,i.exports,t),i.exports}t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,{a:n}),n},t.d=function(e,n){for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.nc=void 0,function(){"use strict";var e=t(856),n=t.n(e),r=t(470),o=t.n(r),i=t(370),a=t.n(i),c=t(458),s=t.n(c),l=t(278),u=t.n(l),d=t(488),f=t.n(d),p=t(840),v={};v.styleTagTransform=f(),v.setAttributes=s(),v.insert=a().bind(null,"head"),v.domAPI=o(),v.insertStyleElement=u(),n()(p.Z,v),p.Z&&p.Z.locals&&p.Z.locals,function(){var e=document.querySelector("#loading");e&&e.remove();var n=document.createElement("div");n.style.height="100vh",n.style.width="100vw",n.style.zIndex="10",n.style.color="white",n.style.textShadow="-1px 0 2px #000, 0 1px 2px #000, 1px 0 2px #000, 0 -1px 2px #000",n.style.display="none",n.style.fontFamily="微软雅黑",n.style.fontWeight="bold",n.style.backgroundColor="rgba(0, 0, 150, 0.2)",n.style.position="fixed",n.style.bottom="0",n.style.fontSize="12px",n.style.alignItems="flex-end",n.style.justifyContent="center",n.id="readMe";var t=document.createElement("span");t.innerText="🔒在Overlay悬浮窗(ngld)插件中锁定此悬浮窗以开始使用。",n.appendChild(t),document.body.appendChild(n),document.addEventListener("onOverlayStateUpdate",(function(e){return document.querySelector("#readMe").style.display=e.detail.isLocked?"none":"flex"}))}();var y,m=new URLSearchParams(new URL(window.location).search),A=(setTimeout((function(){if(!window.OverlayPluginApi&&null===m.get("OVERLAY_WS")&&null===m.get("HOST_PORT")){var e=document.createElement("header");document.body.appendChild(e),e.style.position="absolute",e.style.top=0,e.style.fontFamily="微软雅黑",e.style.fontSize="16px",e.style.color="white",e.style.textShadow="black -1px 0px 2px, black 0px 1px 2px, black 1px 0px 2px, black 0px -1px 2px";var n=30,t=setInterval((function(){e.innerText="请在ACT悬浮窗中添加此页面。（".concat(n--,"秒后消失）"),n<=-1&&(clearInterval(t),e.remove())}),1e3)}}),1e3),t(571),document.querySelector("main"));addOverlayListener("ChangePrimaryPlayer",(function(e){return y=e.charID.toString(16).toUpperCase()})),addOverlayListener("LogLine",(function(e){return"39"===e.line[0]&&e.line[2]===y&&e.line[6]===e.line[7]?(A.classList.remove("anime"),void window.requestAnimationFrame((function(){return window.requestAnimationFrame((function(){return A.classList.add("anime")}))}))):""})),startOverlayEvents()}()}();